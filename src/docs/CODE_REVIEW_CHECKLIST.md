# 代码审查清单

本文档提供了代码审查时需要检查的关键点，特别关注服务端和客户端组件的一致性。

## 通用检查项

- [ ] 代码是否遵循项目的代码风格?
- [ ] 变量和函数命名是否清晰明确?
- [ ] 是否添加了必要的注释来解释复杂逻辑?
- [ ] 是否删除了调试代码和控制台日志?
- [ ] 是否处理了错误情况和边缘情况?
- [ ] 是否添加了适当的类型注解?
- [ ] 代码是否简洁且没有重复?

## Next.js 组件检查项

### 服务端组件

- [ ] 是否正确地**移除** `'use client'` 指令?
- [ ] 是否使用了异步数据获取 (async/await)?
- [ ] 是否避免使用客户端特有功能 (useState, useEffect等)?
- [ ] 是否正确地实现了SEO元数据 (metadata)?
- [ ] 数据获取是否高效 (避免瀑布式请求)?
- [ ] 是否正确地将数据通过props或Context传递给客户端组件?

### 客户端组件

- [ ] 是否正确地添加了 `'use client'` 指令?
- [ ] 是否避免了重复服务端已获取的数据?
- [ ] 交互处理是否合理 (事件处理，状态更新)?
- [ ] 是否使用了适当的hooks (useEffect, useState等)?
- [ ] 是否避免了不必要的重新渲染?
- [ ] 是否添加了必要的loading/error状态?

## 数据流检查项

- [ ] 数据流向是否清晰 (服务端 -> 客户端)?
- [ ] 是否使用了适当的状态管理方式 (Context等)?
- [ ] 状态更新逻辑是否正确?
- [ ] 异步操作是否有适当的错误处理?

## 样式检查项

- [ ] 样式是否一致地遵循项目的设计系统?
- [ ] 是否使用了主题变量而非硬编码值?
- [ ] 组件在不同视口大小下是否正确响应?
- [ ] 打印样式是否适当?
- [ ] 是否考虑了深色模式 (如果适用)?

## 性能检查项

- [ ] 组件是否针对性能进行了优化 (memo, useMemo等)?
- [ ] 是否避免了不必要的计算或渲染?
- [ ] 大型列表是否使用了虚拟化或分页?
- [ ] 资源加载是否进行了优化 (懒加载图片等)?

## 可访问性检查项

- [ ] 是否使用了语义化HTML标签?
- [ ] 交互元素是否有适当的键盘访问方式?
- [ ] 图片是否有alt文本?
- [ ] 颜色对比度是否符合要求?
- [ ] ARIA属性是否正确使用?

## 测试检查项

- [ ] 是否为新功能编写了测试?
- [ ] 测试是否覆盖主要功能和边缘情况?
- [ ] 快照测试是否已更新?

## 客户端与服务端组件同步检查

- [ ] 如果UI在两个地方实现，是否保持一致?
- [ ] 是否使用共享组件避免重复?
- [ ] 共享状态是否正确传递?
- [ ] 是否遵循项目的组件分离原则?

## 文档检查项

- [ ] 是否更新了相关文档?
- [ ] 是否添加了组件使用示例?
- [ ] 是否记录了重要的设计决策?

## 最终检查

- [ ] 代码是否能够成功构建而不产生警告?
- [ ] 功能是否按预期工作?
- [ ] UI是否与设计规范一致?
- [ ] 是否满足产品需求? 