(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},3338:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>g,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(7),i=s(8533),o=s(9377),n=s.n(o),a=s(9799),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1189)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5421)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,3015)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,7832)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\not-found.tsx"]}],d=["D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\page.tsx"],u="/page",g={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7673:(e,t,s)=>{Promise.resolve().then(s.bind(s,4273)),Promise.resolve().then(s.bind(s,4723)),Promise.resolve().then(s.bind(s,3086)),Promise.resolve().then(s.bind(s,4550)),Promise.resolve().then(s.bind(s,1902)),Promise.resolve().then(s.bind(s,9346))},4273:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let r=s(7709);function i(e){let{reason:t,children:s}=e;throw new r.BailoutToCSRError(t)}},4723:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(4714),i=s(7580),o=s(7801);let n={cookingTime:["10分钟内","30分钟内","1小时内"]};function a({onTagSelect:e,selectedTags:t=[]}){(0,o.useRouter)();let[s,a]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[d,u]=(0,i.useState)([]),[g,p]=(0,i.useState)({cuisine:[],flavor:[],cookingTime:[],dietaryRestrictions:[],difficulty:[]});(0,i.useEffect)(()=>{if(t&&t.length>0){console.log("同步选中标签到筛选状态:",t);let e=s.map(e=>e.toString()),r=l.map(e=>e.toString()),i=d.map(e=>e.toString()),o=n.cookingTime,a=["新手","简单","中等","高级","大师级"],c={...g};t.forEach(t=>{e.includes(t)?c.cuisine.includes(t)||c.cuisine.push(t):r.includes(t)?c.flavor.includes(t)||c.flavor.push(t):i.includes(t)?c.dietaryRestrictions.includes(t)||c.dietaryRestrictions.push(t):o.includes(t)?c.cookingTime.includes(t)||c.cookingTime.push(t):a.includes(t)&&!c.difficulty.includes(t)&&c.difficulty.push(t)}),p(c)}},[t,s,l,d]),(0,i.useEffect)(()=>{console.log("AdvancedFilters: 加载筛选数据..."),a(["中餐-家常菜","中餐-小吃","中餐-其它"]),c(["酸","咸","苦","辣","鲜","甜"]),u(["清真","纯素","无麸质"]),console.log("加载完成: 菜系",s,"口味",l)},[]),(0,i.useEffect)(()=>()=>{},[]),(0,i.useEffect)(()=>()=>{},[]);let f=(t,s)=>{console.log(`点击筛选选项: 类型=${t}, 值=${s}`),p(r=>{let i=[...r[t]],o=i.indexOf(s);return o>=0?(i.splice(o,1),e&&e(`remove:${s}`)):(i.push(s),e&&e(s)),{...r,[t]:i}})};return r.jsx("div",{className:"space-y-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("h4",{className:"text-[17px] font-semibold text-gray-800 mb-4",children:"菜系"}),r.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2.5",children:s.map(e=>r.jsx("button",{onClick:()=>f("cuisine",e),className:`filter-option-button px-3 py-1.5 text-sm rounded-full transition-colors ${g.cuisine.includes(e)?"bg-blue-100 text-blue-700 border-blue-200 border":"bg-gray-100 text-gray-700 border-gray-200 border hover:bg-gray-200"}`,"data-tag":e,"data-filter-type":"cuisine","data-filter-value":e,"data-filter-active":g.cuisine.includes(e).toString(),children:e},e))})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("h4",{className:"text-[17px] font-semibold text-gray-800 mb-4",children:"口味特点"}),r.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2.5",children:l.map(e=>r.jsx("button",{onClick:()=>f("flavor",e),className:`filter-option-button px-3 py-1.5 text-sm rounded-full transition-colors ${g.flavor.includes(e)?"bg-blue-100 text-blue-700 border-blue-200 border":"bg-gray-100 text-gray-700 border-gray-200 border hover:bg-gray-200"}`,"data-tag":e,"data-filter-type":"flavor","data-filter-value":e,"data-filter-active":g.flavor.includes(e).toString(),children:e},e))})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("h4",{className:"text-[17px] font-semibold text-gray-800 mb-4",children:"烹饪时间"}),r.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2.5",children:n.cookingTime.map(e=>r.jsx("button",{onClick:()=>f("cookingTime",e),className:`filter-option-button px-3 py-1.5 text-sm rounded-full transition-colors ${g.cookingTime.includes(e)?"bg-blue-100 text-blue-700 border-blue-200 border":"bg-gray-100 text-gray-700 border-gray-200 border hover:bg-gray-200"}`,"data-tag":e,"data-filter-type":"cookingTime","data-filter-value":e,"data-filter-active":g.cookingTime.includes(e).toString(),children:e},e))})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("h4",{className:"text-[17px] font-semibold text-gray-800 mb-4",children:"饮食限制"}),r.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2.5",children:d.map(e=>r.jsx("button",{onClick:()=>f("dietaryRestrictions",e),className:`filter-option-button px-3 py-1.5 text-sm rounded-full transition-colors ${g.dietaryRestrictions.includes(e)?"bg-blue-100 text-blue-700 border-blue-200 border":"bg-gray-100 text-gray-700 border-gray-200 border hover:bg-gray-200"}`,"data-tag":e,"data-filter-type":"dietaryRestrictions","data-filter-value":e,"data-filter-active":g.dietaryRestrictions.includes(e).toString(),children:e},e))})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("h4",{className:"text-[17px] font-semibold text-gray-800 mb-4",children:"难度"}),r.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2.5",children:["新手","简单","中等","高级","大师级"].map(e=>r.jsx("button",{onClick:()=>f("difficulty",e),className:`filter-option-button px-3 py-1.5 text-sm rounded-full transition-colors ${g.difficulty?.includes(e)?"bg-blue-100 text-blue-700 border-blue-200 border":"bg-gray-100 text-gray-700 border-gray-200 border hover:bg-gray-200"}`,"data-tag":e,"data-filter-type":"difficulty","data-filter-value":e,"data-filter-active":g.difficulty?.includes(e).toString(),children:e},e))})]})]})})}},3086:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(4714),i=s(7580),o=s(9346),n=s(3641);function a(e){let t;let s=Array.isArray(e.flavors)?e.flavors.filter(e=>"string"==typeof e&&["酸","咸","苦","辣","鲜","甜","香","麻","清淡","咸鲜","酸甜","麻辣","鲜香","甜酸"].includes(e)):[];e.cuisine&&"string"==typeof e.cuisine&&(t=({川菜:"川菜",粤菜:"粤菜",苏菜:"苏菜",西餐:"西餐",日料:"日料",韩餐:"韩餐",其他:"其他"})[e.cuisine]||"其他");let r=Array.isArray(e.cookingMethod)?e.cookingMethod.filter(e=>"string"==typeof e&&["炒","煮","蒸","煎","炖","烤","焖","拌","炸","焯","烧"].includes(e)):[],i=Array.isArray(e.dietaryRestrictions)?e.dietaryRestrictions.filter(e=>"string"==typeof e&&["纯素","清真","无麸质"].includes(e)):[];return{id:e.id,name:e.name,description:e.description||"",ingredients:Array.isArray(e.ingredients)?e.ingredients:[],seasonings:Array.isArray(e.seasonings)?e.seasonings:[],flavors:s,difficulty:e.difficulty||"中等",cookingTime:"number"==typeof e.cookingTime?e.cookingTime:30,steps:Array.isArray(e.steps)?e.steps:[],preparationSteps:Array.isArray(e.preparationSteps)?e.preparationSteps:void 0,cookingSteps:Array.isArray(e.cookingSteps)?e.cookingSteps:void 0,tips:e.tips||[],cookingTips:Array.isArray(e.cookingTips)?e.cookingTips:void 0,imageUrl:e.imageUrl||"",cuisine:t,cookingMethod:r,dietaryRestrictions:i,tags:Array.isArray(e.tags)?e.tags:[]}}s(3030);var l=s(4723),c=s(6154),d=s(7801);function u({initialRecipes:e=[]}){let t=(0,d.useRouter)(),s=Array.isArray(e)?e:[],[u,g]=(0,i.useState)(s),[p,f]=(0,i.useState)([]),[x,m]=(0,i.useState)([]),[y,h]=(0,i.useState)(void 0),[b,v]=(0,i.useState)(void 0),[j,_]=(0,i.useState)([]),[N,k]=(0,i.useState)([]),[A,S]=(0,i.useState)([]),[I,w]=(0,i.useState)(""),[C,P]=(0,i.useState)(0===s.length),[q,R]=(0,i.useState)(null),[E,T]=(0,i.useState)("");(0,i.useEffect)(()=>{console.log("ClientHome组件加载，初始菜谱数量:",s.length),console.log("当前数据库表名: CHrecipes"),console.log("⚠️ 强制使用示例数据模式"),P(!0);try{console.log("直接加载示例数据...");let e=(console.log("加载示例数据..."),[{id:"1",name:"宫保鸡丁",description:"经典川菜，鸡肉与花生的完美搭配",ingredients:["鸡胸肉","花生","干辣椒","葱","姜","蒜"],seasonings:["酱油","醋","白糖","料酒","淀粉"],flavors:["香","辣"],difficulty:"中等",cookingTime:30,steps:["鸡胸肉切丁，用酱油、料酒和淀粉腌制10分钟","花生提前炒熟或用现成的炒花生米","热油锅，放入干辣椒炒香","倒入腌制好的鸡肉丁，翻炒至变色","加入葱姜蒜末继续翻炒","加入调味料（酱油、醋、白糖）调味","最后加入花生米翻炒均匀即可出锅"],tips:"鸡肉不要炒太久，以免口感变老",imageUrl:"https://picsum.photos/id/102/300/200",cuisine:"川菜",cookingMethod:["炒"],dietaryRestrictions:[]},{id:"2",name:"番茄炒蛋",description:"简单快手的家常菜，酸甜可口",ingredients:["番茄","鸡蛋","葱"],seasonings:["盐","白糖","油"],flavors:["酸","甜"],difficulty:"简单",cookingTime:10,steps:["番茄切块，鸡蛋打散","热锅倒油，倒入鸡蛋炒至金黄","盛出鸡蛋，锅中留底油","倒入番茄块煸炒出汁","加入少许白糖提味","倒入炒好的鸡蛋一起翻炒均匀","最后加盐调味，撒上葱花即可"],tips:"鸡蛋不要炒太久，保持嫩滑口感",imageUrl:"https://picsum.photos/id/292/300/200",cuisine:"其他",cookingMethod:["炒"],dietaryRestrictions:["纯素"]}].map(a));(0,n.mU)(e),g(e),console.log("已加载示例数据:",e.length,"个菜谱")}catch(e){console.error("无法加载示例数据:",e)}P(!1)},[s]),(0,i.useEffect)(()=>{let e=document.querySelectorAll(".filter-option-button");e.length>0&&(e.forEach(e=>{e._hasClickHandler||(e.addEventListener("click",t=>{let s=e.dataset.tag;console.log("点击筛选选项:",s),s&&$(s)}),e._hasClickHandler=!0)}),console.log("已为",e.length,"个筛选选项添加点击事件处理函数"))},[]);let M=(0,i.useCallback)(async e=>{let t=e.requiredIngredients||p,s=e.optionalIngredients||A,r=e.flavors||[],i=e.difficulty||void 0,o=e.cuisine||void 0,a=e.cookingMethods||[],l=e.dietaryRestrictions||[];m(r),h(i),v(o),_(a),k(l),e.requiredIngredients&&f(e.requiredIngredients),e.optionalIngredients&&S(e.optionalIngredients),P(!0);try{let e=await (0,n.GS)({ingredients:t,optionalIngredients:s,flavors:r,difficulty:i,cuisine:o,cookingMethods:a,dietaryRestrictions:l,searchQuery:I});g(e)}catch(e){console.error("筛选失败:",e),g((0,n.C_)({ingredients:t,optionalIngredients:s,flavors:r,difficulty:i,cuisine:o,cookingMethods:a,dietaryRestrictions:l,searchQuery:I}))}finally{P(!1)}},[I,p,A]);(0,i.useCallback)(async e=>{w(e),P(!0);try{let t=await (0,n.GS)({ingredients:p,flavors:x,difficulty:y,cuisine:b,cookingMethods:j,dietaryRestrictions:N,searchQuery:e});g(t)}catch(t){console.error("搜索失败:",t),g((0,n.C_)({ingredients:p,flavors:x,difficulty:y,cuisine:b,cookingMethods:j,dietaryRestrictions:N,searchQuery:e}))}finally{P(!1)}},[p,x,y,b,j,N]);let $=e=>{if(console.log(`选择标签: ${e}`),!e||!e.trim()){console.warn("空标签，忽略");return}if("随机推荐"===e){console.log("触发随机推荐功能");let e=new CustomEvent("random-recipe",{bubbles:!0,detail:{action:"random"}});document.dispatchEvent(e),M({flavors:x,difficulty:y,cuisine:b,cookingMethods:j,dietaryRestrictions:N});return}if(console.log(`检查标签类型: ${e}`),["中餐","西餐","日本料理","韩国料理","意大利菜","法国菜","墨西哥菜","泰国菜","印度菜","中式家常菜"].includes(e))console.log(`设置菜系: ${e}`),v(e),T((0,c.xx)(E,e)),M({cuisine:e,flavors:x,difficulty:y,cookingMethods:j,dietaryRestrictions:N,requiredIngredients:p,optionalIngredients:A});else if(["咸","甜","酸","辣","鲜","香","麻"].includes(e)){if(console.log(`添加口味: ${e}`),!x.includes(e)){let t=[...x,e];m(t),T((0,c.xx)(E,e)),M({cuisine:b,flavors:t,difficulty:y,cookingMethods:j,dietaryRestrictions:N,requiredIngredients:p,optionalIngredients:A})}}else if(["新手","简单","中等","高级","大师级"].includes(e))console.log(`设置难度: ${e}`),h(e),T((0,c.xx)(E,e)),M({cuisine:b,flavors:x,difficulty:e,cookingMethods:j,dietaryRestrictions:N,requiredIngredients:p,optionalIngredients:A});else if(["炒","煮","蒸","煎","炖","烤","焖","拌","炸"].includes(e)){if(console.log(`添加烹饪方式: ${e}`),!j.includes(e)){let t=[...j,e];_(t),T((0,c.xx)(E,e)),M({cuisine:b,flavors:x,difficulty:y,cookingMethods:t,dietaryRestrictions:N,requiredIngredients:p,optionalIngredients:A})}}else if(["纯素","清真","无麸质"].includes(e)){if(console.log(`添加饮食限制: ${e}`),!N.includes(e)){let t=[...N,e];k(t),T((0,c.xx)(E,e)),M({cuisine:b,flavors:x,difficulty:y,cookingMethods:j,dietaryRestrictions:t,requiredIngredients:p,optionalIngredients:A})}}else["10分钟内","30分钟内","1小时内"].includes(e)?(console.log(`添加烹饪时间: ${e}`),T((0,c.xx)(E,e))):(console.log(`添加食材: ${e}`),p.includes(e)||(f(t=>[...t,e]),T((0,c.xx)(E,e))))};return(0,r.jsxs)("div",{className:"pt-[60px] pb-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("p",{className:"text-lg font-medium text-gray-600 mb-8",children:"从 4000+ 道菜谱中寻找灵感"}),r.jsx("div",{className:"max-w-[680px] mx-auto",children:r.jsx(o.default,{placeholder:"请输入食材或调料...",className:"shadow-sm",initialValue:E,onIngredientSearch:(e,s)=>{if(e.length>0||s.length>0){let r=new URLSearchParams;f(e),S(s),e.forEach(e=>{r.append("requiredIngredients",e)}),s.forEach(e=>{r.append("optionalIngredients",e)}),t.push(`/recipes?${r.toString()}`)}}})})]}),r.jsx("div",{className:"max-w-[900px] mx-auto my-[40px]",children:r.jsx(l.default,{onTagSelect:$,selectedTags:p})}),(0,r.jsxs)("div",{className:"text-center mt-[40px] mb-8",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2 tracking-wide",children:"To Eat or Not to Eat, That Is Not the Question"}),r.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"The Question Is What to Eat"})]})]})}},8906:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=s(8924);s(657),s(5099);let i=r._(s(6182));function o(e,t){let s={loading:e=>{let{error:t,isLoading:s,pastDelay:r}=e;return null}};return"function"==typeof e&&(s.loader=e),(0,i.default)({...s,...t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6054:(e,t,s)=>{"use strict";let{createProxy:r}=s(1481);e.exports=r("D:\\test\\Cursor\\What_to_eat_Web\\node_modules\\next\\dist\\shared\\lib\\lazy-dynamic\\dynamic-bailout-to-csr.js")},6182:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=s(657),i=s(5099),o=s(6054);function n(e){var t;return{default:null!=(t=null==e?void 0:e.default)?t:e}}let a={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},l=function(e){let t={...a,...e},s=(0,i.lazy)(()=>t.loader().then(n)),l=t.loading;function c(e){let n=l?(0,r.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,a=t.ssr?(0,r.jsx)(s,{...e}):(0,r.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(i.Suspense,{fallback:n,children:a})}return c.displayName="LoadableComponent",c}},1189:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(657),i=s(3672),o=s(8906),n=s.n(o);let a=(0,s(1481).createProxy)(String.raw`D:\test\Cursor\What_to_eat_Web\src\components\Footer.tsx`),{__esModule:l,$$typeof:c}=a,d=a.default;var u=s(2394);n()(()=>s.e(988).then(s.bind(s,7988)),{loadableGenerated:{modules:["..\\app\\page.tsx -> ../components/SearchBar"]},ssr:!1,loading:()=>r.jsx("div",{className:"animate-pulse w-full max-w-3xl mx-auto",children:r.jsx("div",{className:"h-12 bg-gray-200 rounded-md w-full"})})}),n()(()=>s.e(702).then(s.bind(s,4702)),{loadableGenerated:{modules:["..\\app\\page.tsx -> ../components/AdvancedFilters"]},ssr:!1,loading:()=>(0,r.jsxs)("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-3"}),r.jsx("div",{className:"space-y-2",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded mr-3"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},t))})]},t))})]})});let g=n()(()=>s.e(547).then(s.bind(s,3547)),{loadableGenerated:{modules:["..\\app\\page.tsx -> ../components/ClientHome"]},ssr:!1}),p=process.env.NEXT_PUBLIC_SUPABASE_URL||"https://ijwimydlumbolmpnmezt.supabase.co",f=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlqd2lteWRsdW1ib2xtcG5tZXp0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0NjExMDUsImV4cCI6MjA1ODAzNzEwNX0.ynhuFYG6dkoxDgEyDwEnWdZ-DRWx3illLZGyYwn_UnA",x=(0,i.eI)(p,f);async function m(){try{console.log("服务器端直接加载菜谱数据...");let{data:e,error:t}=await x.from("CHrecipes").select("*").range(0,999);if(t)return console.error("加载菜谱数据出错:",t),[];if(!e||0===e.length)return console.log("未加载到任何数据"),[];return console.log(`批次 1 加载了 ${e.length} 条菜谱`),e.map(e=>({id:e.id,name:e.菜名,cuisine:e.菜系,description:"",ingredients:Array.isArray(e.食材)?e.食材:[],seasonings:Array.isArray(e.调料)?e.调料:[],flavors:Array.isArray(e.口味特点)?e.口味特点:[],difficulty:e.烹饪难度||"中等",cookingTime:"number"==typeof e.烹饪时间?e.烹饪时间:30,steps:Array.isArray(e.步骤)?e.步骤:[],cookingSteps:Array.isArray(e.步骤)?e.步骤:[],tips:Array.isArray(e.注意事项)?e.注意事项:[],imageUrl:"/images/placeholder-food.jpg",cookingMethod:Array.isArray(e.烹饪技法)?e.烹饪技法:[],dietaryRestrictions:[]}))}catch(e){return console.error("加载菜谱失败:",e),[]}}async function y(){var e;let t=[];try{t=await m(),console.log(`服务器端成功加载 ${t.length} 个菜谱`)}catch(e){console.error("服务器端加载数据失败:",e),console.log("服务器端使用空数组作为初始数据"),t=[]}return t=(e=t)&&Array.isArray(e)?e:[],(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(u.ZP,{className:"shadow-sm"}),r.jsx("main",{className:"flex-grow bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx(g,{initialRecipes:t})})}),r.jsx(d,{})]})}},8924:(e,t,s)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}s.r(t),s.d(t,{_:()=>r,_interop_require_default:()=>r})}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[499,843,384,672,242,30,641,913],()=>s(3338));module.exports=r})();