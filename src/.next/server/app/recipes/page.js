(()=>{var e={};e.id=686,e.ids=[686],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},8815:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>o,routeModule:()=>g,tree:()=>c});var r=t(7),i=t(8533),a=t(9377),n=t.n(a),l=t(9799),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c=["",{children:["recipes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5158)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\recipes\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5421)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,3015)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,7832)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\not-found.tsx"]}],o=["D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\recipes\\page.tsx"],u="/recipes/page",x={require:t,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/recipes/page",pathname:"/recipes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4336:(e,s,t)=>{Promise.resolve().then(t.bind(t,6114))},7540:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6834).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6114:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(4714),i=t(7580),a=t(7801),n=t(9346),l=t(2582),d=t(1902),c=t(4550),o=t(821),u=t(6834);let x=(0,u.Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),g=(0,u.Z)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function m({onFilterChange:e,className:s="",onTagSelect:t,autoExecuteSearch:a=!1}){let[n,l]=(0,i.useState)(null),[d,c]=(0,i.useState)([]),[u,m]=(0,i.useState)(null),[h,p]=(0,i.useState)([]),[f,b]=(0,i.useState)([]),[y,j]=(0,i.useState)([]),[v,N]=(0,i.useState)([]),[k,w]=(0,i.useState)([]),[S,q]=(0,i.useState)([]),[C,E]=(0,i.useState)(!0),[_,$]=(0,i.useState)(null);(0,i.useEffect)(()=>{j([]),N([]),j(["中餐-家常菜","中餐-小吃","中餐-其它"]),N(["酸","咸","苦","辣","鲜","甜"]),q(["清真","纯素","无麸质"])},[]),(0,i.useEffect)(()=>()=>{},[n,d,u,h,f,e,a]),(0,i.useEffect)(()=>{a&&e({cuisine:n,flavors:d,difficulty:u,cookingMethods:h,dietaryRestrictions:f})},[n,d,u,h,f,e,a]);let M=e=>{c(s=>{let r=s.includes(e),i=r?s.filter(s=>s!==e):[...s,e];return t&&!r&&t(e),i})},I=e=>{b(s=>{let r=s.includes(e),i=r?s.filter(s=>s!==e):[...s,e];return t&&!r&&t(e),i})},R=e=>{let s=n===e?null:e;l(s),t&&s&&t(s)},P=e=>{let s=u===e?null:e;m(s),t&&s&&t(s)},z=null!==n||d.length>0||null!==u||h.length>0||f.length>0,A=e=>{$(_===e?null:e)},W=()=>{e({cuisine:n,flavors:d,difficulty:u,cookingMethods:h,dietaryRestrictions:f}),E(!0)};return(0,i.useEffect)(()=>()=>{},[t,e]),(0,r.jsxs)("div",{className:`bg-white border border-gray-200 rounded-lg shadow-sm ${s}`,children:[(0,r.jsxs)("div",{className:"md:hidden flex items-center justify-between p-3 cursor-pointer",onClick:()=>E(!C),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(o.Z,{size:18}),r.jsx("span",{className:"font-medium",children:"筛选条件"}),z&&r.jsx("span",{className:"bg-amber-500 text-white text-xs px-2 py-0.5 rounded-full",children:n?1:0+d.length+(u?1:0)+h.length+f.length})]}),C?r.jsx(x,{size:18}):r.jsx(g,{size:18})]}),(0,r.jsxs)("div",{className:`${C?"hidden":"block"} md:block p-4`,children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium mb-2 flex items-center justify-between cursor-pointer",onClick:()=>A("cuisine"),children:[r.jsx("span",{children:"菜系"}),"cuisine"===_?r.jsx(g,{size:16}):r.jsx(x,{size:16})]}),r.jsx("div",{className:`${"cuisine"===_||null===_?"block":"hidden md:block"} flex flex-wrap gap-2`,children:y.map(e=>r.jsx("button",{onClick:()=>R(e),className:`px-3 py-1.5 text-sm rounded-full transition-colors filter-option-button ${n===e?"bg-blue-100 text-blue-700 border-blue-200 border":"bg-gray-100 text-gray-700 border-gray-200 border hover:bg-gray-200"}`,type:"button","data-tag":e,"aria-pressed":n===e,children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium mb-2 flex items-center justify-between cursor-pointer",onClick:()=>A("flavors"),children:[r.jsx("span",{children:"口味特点"}),"flavors"===_?r.jsx(g,{size:16}):r.jsx(x,{size:16})]}),r.jsx("div",{className:`${"flavors"===_||null===_?"block":"hidden md:block"} flex flex-wrap gap-2`,children:v.map(e=>r.jsx("button",{onClick:()=>M(e),className:`px-3 py-1.5 text-sm rounded-full transition-colors filter-option-button ${d.includes(e)?"bg-blue-100 text-blue-700 border-blue-200 border":"bg-gray-100 text-gray-700 border-gray-200 border hover:bg-gray-200"}`,type:"button","data-tag":e,"data-filter-type":"flavor","data-filter-value":e,"data-filter-active":d.includes(e).toString(),"aria-pressed":d.includes(e),children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium mb-2 flex items-center justify-between cursor-pointer",onClick:()=>A("difficulty"),children:[r.jsx("span",{children:"烹饪难度"}),"difficulty"===_?r.jsx(g,{size:16}):r.jsx(x,{size:16})]}),r.jsx("div",{className:`${"difficulty"===_||null===_?"block":"hidden md:block"} flex flex-wrap gap-2`,children:["新手","简单","中等","高级","大师级"].map(e=>r.jsx("button",{onClick:()=>P(e),className:`px-3 py-1.5 text-sm rounded-full transition-colors filter-option-button ${u===e?"bg-blue-100 text-blue-700 border-blue-200 border":"bg-gray-100 text-gray-700 border-gray-200 border hover:bg-gray-200"}`,type:"button","data-tag":e,"data-filter-type":"difficulty","data-filter-value":e,"data-filter-active":(u===e).toString(),"aria-pressed":u===e,children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium mb-2 flex items-center justify-between cursor-pointer",onClick:()=>A("dietary"),children:[r.jsx("span",{children:"饮食限制"}),"dietary"===_?r.jsx(g,{size:16}):r.jsx(x,{size:16})]}),r.jsx("div",{className:`${"dietary"===_||null===_?"block":"hidden md:block"} flex flex-wrap gap-2`,children:S.map(e=>r.jsx("button",{onClick:()=>I(e),className:`px-3 py-1.5 text-sm rounded-full transition-colors filter-option-button ${f.includes(e)?"bg-blue-100 text-blue-700 border-blue-200 border":"bg-gray-100 text-gray-700 border-gray-200 border hover:bg-gray-200"}`,type:"button","data-tag":e,"data-filter-type":"dietaryRestriction","data-filter-value":e,"data-filter-active":f.includes(e).toString(),"aria-pressed":f.includes(e),children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium mb-2 flex items-center justify-between cursor-pointer",onClick:()=>A("cookingTime"),children:[r.jsx("span",{children:"烹饪时间"}),"cookingTime"===_?r.jsx(g,{size:16}):r.jsx(x,{size:16})]}),r.jsx("div",{className:`${"cookingTime"===_||null===_?"block":"hidden md:block"} flex flex-wrap gap-2`,children:["10分钟内","30分钟内","1小时内"].map(e=>r.jsx("button",{onClick:()=>t&&t(e),className:"px-3 py-1.5 text-sm rounded-full transition-colors bg-gray-100 text-gray-700 border-gray-200 border hover:bg-gray-200 filter-option-button",type:"button","data-tag":e,"data-filter-type":"cookingTime","data-filter-value":e,"data-filter-active":"false",children:e},e))})]}),(0,r.jsxs)("div",{className:"flex justify-between pt-3 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>{l(null),c([]),m(null),p([]),b([]),W()},className:"px-4 py-2 text-gray-600 text-sm rounded-md hover:bg-gray-100",children:"清除筛选"}),r.jsx("button",{onClick:W,className:"px-4 py-2 bg-blue-500 text-white text-sm rounded-md hover:bg-blue-600",children:"应用筛选"})]})]}),C&&z&&r.jsx("div",{className:"md:hidden p-3 border-t border-gray-200 text-sm text-gray-600",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[n&&r.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded-full text-xs",children:n}),d.map(e=>r.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded-full text-xs",children:e},e)),u&&r.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded-full text-xs",children:u}),f.map(e=>r.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded-full text-xs",children:e},e))]})})]})}function h(){let e=(0,a.useRouter)(),s=(0,a.useSearchParams)(),t=s?.get("query")||"",[o,u]=(0,i.useState)([]),[x,g]=(0,i.useState)(t),[h,p]=(0,i.useState)(!1),[f,b]=(0,i.useState)(0),[y,j]=(0,i.useState)(1),[v,N]=(0,i.useState)(null),[k,w]=(0,i.useState)({cuisine:null,flavors:[],difficulty:null,cookingMethods:[],dietaryRestrictions:[],ingredients:[],requiredIngredients:[],optionalIngredients:[]});(0,i.useEffect)(()=>{if(!s)return;let e=s.get("cuisine"),t=s.get("difficulty"),r=s.getAll("flavors"),i=s.getAll("cookingMethods"),a=s.getAll("dietaryRestrictions"),n=s.getAll("ingredients"),l=s.getAll("requiredIngredients"),d=s.getAll("optionalIngredients"),c=s.get("query")||"";w({cuisine:e||null,difficulty:t||null,flavors:r||[],cookingMethods:i||[],dietaryRestrictions:a||[],ingredients:n||[],requiredIngredients:l||[],optionalIngredients:d||[]}),g(c),_()},[s]);let S=Math.ceil(f>0?f:1),q=(0,i.useCallback)(s=>{g(s),j(1);let t=new URLSearchParams;s&&t.set("query",s),k.cuisine&&t.set("cuisine",k.cuisine),k.flavors.forEach(e=>{t.append("flavors",e)}),k.difficulty&&t.set("difficulty",k.difficulty),k.cookingMethods.forEach(e=>{t.append("cookingMethods",e)}),k.dietaryRestrictions.forEach(e=>{t.append("dietaryRestrictions",e)}),k.ingredients.forEach(e=>{t.append("ingredients",e)}),t.set("page","1"),e.push(`/recipes?${t.toString()}`)},[e,k]),C=(0,i.useCallback)(e=>{w(s=>{let t={...s};return void 0!==e.cuisine&&(t.cuisine=e.cuisine),e.flavors&&e.flavors.forEach(e=>{t.flavors.includes(e)||t.flavors.push(e)}),void 0!==e.difficulty&&(t.difficulty=e.difficulty),e.cookingMethods&&e.cookingMethods.forEach(e=>{t.cookingMethods.includes(e)||t.cookingMethods.push(e)}),e.dietaryRestrictions&&e.dietaryRestrictions.forEach(e=>{t.dietaryRestrictions.includes(e)||t.dietaryRestrictions.push(e)}),t}),j(1)},[]),E=t=>{j(t);let r=new URLSearchParams(s?.toString());r.set("page",t.toString()),e.push(`/recipes?${r.toString()}`)},_=async()=>{if(s){p(!0),N(null);try{let e=parseInt(s.get("page")||"1",10);j(e);let t=s.get("cuisine"),r=s.getAll("flavors"),i=s.get("difficulty"),a=s.getAll("cookingMethods"),n=s.getAll("dietaryRestrictions"),l=s.getAll("ingredients"),d=s.getAll("requiredIngredients"),c=s.getAll("optionalIngredients"),o=s.get("query")||x||"",g="/api/recipes/search?",m=new URLSearchParams;o&&m.set("query",o),t&&m.set("cuisine",t),r.forEach(e=>{m.append("flavors",e)}),i&&m.set("difficulty",i),a.forEach(e=>{m.append("cookingMethods",e)}),n.forEach(e=>{m.append("dietaryRestrictions",e)}),l.forEach(e=>{m.append("ingredients",e)}),d.forEach(e=>{m.append("requiredIngredients",e)}),c.forEach(e=>{m.append("optionalIngredients",e)}),m.set("page",e.toString()),m.set("pageSize","12"),g+=m.toString();let h=await fetch(g);if(!h.ok)throw Error(`搜索失败: ${h.status} ${h.statusText}`);let p=await h.json();if(p.success)u(p.results||[]),b(p.total||0);else throw Error(p.error||"搜索失败")}catch(e){console.error("搜索错误:",e),N(e instanceof Error?e.message:String(e)),u([]),b(0)}finally{p(!1)}}},$=(0,i.useCallback)(()=>{let s=new URLSearchParams;x&&s.set("query",x),k.cuisine&&s.set("cuisine",k.cuisine),k.flavors.forEach(e=>{s.append("flavors",e)}),k.difficulty&&s.set("difficulty",k.difficulty),k.cookingMethods.forEach(e=>{s.append("cookingMethods",e)}),k.dietaryRestrictions.forEach(e=>{s.append("dietaryRestrictions",e)}),k.ingredients.forEach(e=>{s.append("ingredients",e)}),k.requiredIngredients.forEach(e=>{s.append("requiredIngredients",e)}),k.optionalIngredients.forEach(e=>{s.append("optionalIngredients",e)}),s.set("page","1"),e.push(`/recipes?${s.toString()}`)},[e,x,k]),M=(0,i.useCallback)(()=>{w({cuisine:null,flavors:[],difficulty:null,cookingMethods:[],dietaryRestrictions:[],ingredients:[],requiredIngredients:[],optionalIngredients:[]}),g(""),j(1);let s=new URLSearchParams;s.set("page","1"),e.push(`/recipes?${s.toString()}`)},[e]);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(d.default,{className:"shadow-sm"}),r.jsx("div",{className:"pt-20 pb-6 bg-white border-b",children:(0,r.jsxs)("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"食谱搜索"}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[r.jsx("div",{className:"flex-grow",children:r.jsx(n.default,{placeholder:"请输入食材或菜名...",initialValue:x,onSearch:q,onIngredientSearch:(e,s)=>{w(t=>({...t,requiredIngredients:e||[],optionalIngredients:s||[]})),setTimeout(()=>$(),100)},className:"w-full"})}),(0,r.jsxs)("div",{className:"flex-shrink-0 flex items-end",children:[(0,r.jsxs)("button",{onClick:M,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-md mr-2 transition-colors flex items-center",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-1",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),"重置"]}),r.jsx("button",{onClick:$,className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-6 rounded-md transition-colors",children:"应用筛选"})]})]})})})]})}),r.jsx("main",{className:"flex-grow py-6",children:r.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[r.jsx("div",{className:"w-full md:hidden",children:r.jsx(m,{onFilterChange:C,onTagSelect:e=>{if(!e){g("");return}g(s=>s?`${s} ${e}`:e)},autoExecuteSearch:!1})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"hidden md:block md:col-span-1",children:r.jsx(m,{onFilterChange:C,className:"sticky top-24",onTagSelect:e=>{if(!e){g("");return}g(s=>s?`${s} ${e}`:e)},autoExecuteSearch:!1})}),r.jsx("div",{className:"md:col-span-3",children:v?(0,r.jsxs)("div",{className:"text-center py-10 bg-white rounded-lg shadow-sm",children:[r.jsx("div",{className:"text-red-500 mb-4",children:"⚠️"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"搜索出错"}),r.jsx("p",{className:"text-gray-500",children:v})]}):h?(0,r.jsxs)("div",{className:"text-center py-10 bg-white rounded-lg shadow-sm",children:[r.jsx("div",{className:"w-12 h-12 border-t-4 border-sky-500 border-solid rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"正在搜索，请稍候..."})]}):o.length>0?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"flex flex-wrap justify-between items-center mb-4",children:(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["找到 ",f," 个食谱"]})}),r.jsx("div",{className:"flex flex-col gap-4",children:o.map(e=>r.jsx(l.Z,{recipe:e,className:"w-full"},e.id))}),S>1&&(0,r.jsxs)("div",{className:"mt-8 flex justify-center items-center space-x-2",children:[r.jsx("button",{onClick:()=>E(1),disabled:1===y,className:`w-8 h-8 rounded-md flex items-center justify-center ${1===y?"bg-gray-100 text-gray-400":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"1"}),r.jsx("button",{onClick:()=>E(y-1),disabled:1===y,className:`w-8 h-8 rounded-md flex items-center justify-center ${1===y?"bg-gray-100 text-gray-400":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"<"}),(0,r.jsxs)("span",{className:"px-2",children:[y," / ",S]}),r.jsx("button",{onClick:()=>E(y+1),disabled:y===S,className:`w-8 h-8 rounded-md flex items-center justify-center ${y===S?"bg-gray-100 text-gray-400":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:">"}),r.jsx("button",{onClick:()=>E(S),disabled:y===S,className:`w-8 h-8 rounded-md flex items-center justify-center ${y===S?"bg-gray-100 text-gray-400":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:S})]})]}):(0,r.jsxs)("div",{className:"text-center py-10 bg-white rounded-lg shadow-sm",children:[r.jsx("div",{className:"text-gray-400 mb-4",children:"\uD83D\uDD0D"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"未找到匹配的食谱"}),r.jsx("p",{className:"text-gray-500",children:"请尝试使用不同的关键词或筛选条件"})]})})]})]})})}),r.jsx(c.default,{})]})}},2582:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var r=t(4714),i=t(7580),a=t.n(i),n=t(9872),l=t(7540);let d=(0,t(6834).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var c=t(3641);let o=({recipe:e,className:s="",showMatchScore:t=!1,showFavoriteButton:i=!0})=>{let[o,u]=a().useState(!1);a().useEffect(()=>{u((0,c.Dq)(e.id))},[e.id]);let x=e.name||e.菜名||"未命名菜谱",g=e.cuisine||e.菜系,m=e.difficulty||e.烹饪难度,h=e.cookingTime||e.烹饪时间;return r.jsx(n.default,{href:`/recipe/${e.id}`,className:`block ${s}`,children:(0,r.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-all duration-300 hover:shadow-md h-full p-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"flex-grow pr-2",children:[r.jsx("div",{className:"mb-1.5 flex items-start",children:(0,r.jsxs)("h3",{className:"font-medium text-gray-900 leading-tight flex items-center",children:[x,o&&r.jsx("span",{className:"ml-2 text-xs bg-red-100 text-red-600 px-1.5 py-0.5 rounded",children:"收藏"})]})}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mb-1.5",children:[h&&(0,r.jsxs)("span",{className:"flex items-center mr-3",children:[r.jsx(l.Z,{size:12,className:"mr-1"}),"string"==typeof h?h:(e=>{if(!e)return"未知";if(e<60)return`${e}分钟`;let s=e%60;return`${Math.floor(e/60)}小时${s>0?` ${s}分钟`:""}`})(h)]}),g&&r.jsx("span",{children:g}),m&&r.jsx("span",{className:"ml-2 text-xs bg-gray-100 text-gray-700 px-1.5 py-0.5 rounded",children:m})]})]}),t&&void 0!==e.matchScore&&r.jsx("div",{className:"flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-xs text-blue-800 font-medium whitespace-nowrap",children:["匹配",Math.round(e.matchScore<1?100*e.matchScore:e.matchScore),"%"]})})]}),t&&(e.matchedIngredients?.length||e.matchedSeasonings?.length)?(0,r.jsxs)("div",{className:"mt-1.5",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"匹配食材/调料:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-0.5 text-xs text-gray-800",children:[e.matchedIngredients?.slice(0,3).map((s,t)=>r.jsxs("span",{children:[s,t<Math.min(e.matchedIngredients?.length||0,3)-1?", ":""]},t)),e.matchedSeasonings?.slice(0,2).map((s,t)=>r.jsxs("span",{children:[0===t&&e.matchedIngredients?.length?", ":"",s,t<Math.min(e.matchedSeasonings?.length||0,2)-1?", ":""]},`s-${t}`)),(e.matchedIngredients?.length||0)+(e.matchedSeasonings?.length||0)>5&&r.jsx("span",{className:"text-gray-500",children:"等"})]})]}):e.ingredients&&Array.isArray(e.ingredients)?(0,r.jsxs)("div",{className:"mt-1.5",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"主要食材:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-0.5 text-xs text-gray-800",children:[e.ingredients.slice(0,4).map((s,t)=>(0,r.jsxs)("span",{children:["string"==typeof s?s:s.name||s.名称||"",t<Math.min(e.ingredients.length,4)-1?", ":""]},t)),e.ingredients.length>4&&r.jsx("span",{className:"text-gray-500",children:"等"})]})]}):(0,r.jsxs)("div",{className:"mt-1.5",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"饮食属性:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-0.5 text-xs text-gray-800",children:[e.isHalal&&r.jsx("span",{children:"清真"}),e.isVegan&&(0,r.jsxs)("span",{children:[e.isHalal?", ":"","纯素"]}),e.isGlutenFree&&(0,r.jsxs)("span",{children:[e.isHalal||e.isVegan?", ":"","无麸质"]}),!e.isHalal&&!e.isVegan&&!e.isGlutenFree&&r.jsx("span",{className:"text-gray-500",children:"标准餐食"})]})]}),r.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium flex justify-end",children:(0,r.jsxs)("span",{className:"flex items-center",children:["详情 ",r.jsx(d,{size:14})]})})]})})}},5158:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,dynamic:()=>d});var r=t(657);let i=(0,t(1481).createProxy)(String.raw`D:\test\Cursor\What_to_eat_Web\src\app\recipes\recipes-client.tsx`),{__esModule:a,$$typeof:n}=i,l=i.default,d="force-dynamic";function c(){return r.jsx(l,{})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[499,843,384,242,30,641,913],()=>t(8815));module.exports=r})();