(()=>{var e={};e.id=57,e.ids=[57],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},9289:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d});var r=s(7),a=s(8533),l=s(9377),i=s.n(l),n=s(9799),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let d=["",{children:["favorites",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3081)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\favorites\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5421)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,3015)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,7832)),"D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\not-found.tsx"]}],o=["D:\\test\\Cursor\\What_to_eat_Web\\src\\app\\favorites\\page.tsx"],x="/favorites/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/favorites/page",pathname:"/favorites",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9574:(e,t,s)=>{Promise.resolve().then(s.bind(s,2127))},6834:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(7580);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),i=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:i,iconNode:d,...o},x)=>(0,r.createElement)("svg",{ref:x,...c,width:t,height:t,stroke:e,strokeWidth:a?24*Number(s)/Number(t):s,className:n("lucide",l),...o},[...d.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(i)?i:[i]])),o=(e,t)=>{let s=(0,r.forwardRef)(({className:s,...l},c)=>(0,r.createElement)(d,{ref:c,iconNode:t,className:n(`lucide-${a(i(e))}`,`lucide-${e}`,s),...l}));return s.displayName=i(e),s}},7540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6834).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},821:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6834).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},1031:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6834).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},7694:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6834).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7801:(e,t,s)=>{"use strict";var r=s(7482);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},2127:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(4714),a=s(7580),l=s(7801),i=s(1031);let n=(0,s(6834).Z)("arrow-down-a-z",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]);var c=s(821),d=s(7694),o=s(9872),x=s(2582),m=s(3641),u=s(1902),h=s(4550);function g({count:e=6}){return r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:e}).map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-3"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-1"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6 mb-4"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-14"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-20"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]})]},t))})}function p(){(0,l.useRouter)();let e=(0,l.useSearchParams)(),[t,s]=(0,a.useState)([]),[p,f]=(0,a.useState)(!0),[y,b]=(0,a.useState)("date"),[j,v]=(0,a.useState)("all"),[N,w]=(0,a.useState)(new Map);(0,a.useEffect)(()=>{if(e){let t=e.get("sort");t&&["name","date","difficulty"].includes(t)&&b(t);let s=e.get("category");s&&v(s)}},[e]),(0,a.useEffect)(()=>{let e=()=>{f(!0),f(!1)};e();let t=t=>{"favorites"===t.key&&e()};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[]);let k=(e,t)=>{let s=new URLSearchParams;"date"!==e&&s.set("sort",e),"all"!==t&&s.set("category",t);let r=window.location.pathname+(s.toString()?`?${s.toString()}`:"");window.history.pushState({},"",r)},_=e=>{b(e),k(e,j)},q=e=>{v(e),k(y,e)},P=(0,a.useMemo)(()=>{let e=[...t];return"all"!==j&&(e=t.filter(e=>{let t=e.cookingMethod&&(0,m.if)(e.cookingMethod).includes(j),s=e.cuisine===j;return t||s})),e.sort((e,t)=>{if("name"===y)return(e.name||"").localeCompare(t.name||"");if("difficulty"!==y)return 0;{let s={简单:1,中等:2,困难:3};return(s[e.difficulty||""]||0)-(s[t.difficulty||""]||0)}})},[t,y,j]);return(0,r.jsxs)(r.Fragment,{children:[r.jsx(u.default,{}),r.jsx("main",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-6 flex items-center text-sm text-gray-500",children:[(0,r.jsxs)(o.default,{href:"/",className:"hover:text-blue-600 flex items-center",children:[r.jsx(i.Z,{size:14,className:"mr-1"}),"首页"]}),r.jsx("span",{className:"mx-2",children:"/"}),r.jsx("span",{className:"text-gray-700",children:"我的收藏"})]}),r.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"我的收藏"}),!p&&t.length>0&&r.jsx("div",{className:"bg-white rounded-lg shadow mb-6 p-4",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,r.jsxs)("div",{className:"flex items-center mr-4",children:[r.jsx(n,{size:18,className:"mr-2 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"排序："}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{onClick:()=>_("date"),className:`px-2 py-1 text-xs rounded ${"date"===y?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"收藏时间"}),r.jsx("button",{onClick:()=>_("name"),className:`px-2 py-1 text-xs rounded ${"name"===y?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"名称"}),r.jsx("button",{onClick:()=>_("difficulty"),className:`px-2 py-1 text-xs rounded ${"difficulty"===y?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"难度"})]})]}),N.size>1&&(0,r.jsxs)("div",{className:"flex items-center flex-grow",children:[r.jsx(c.Z,{size:18,className:"mr-2 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"分类："}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsxs)("button",{onClick:()=>q("all"),className:`px-2 py-1 text-xs rounded flex items-center ${"all"===j?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["全部",(0,r.jsxs)("span",{className:"ml-1 text-xs",children:["(",N.get("all")||0,")"]})]}),Array.from(N.entries()).filter(([e])=>"all"!==e).sort((e,t)=>t[1]-e[1]).slice(0,5).map(([e,t])=>(0,r.jsxs)("button",{onClick:()=>q(e),className:`px-2 py-1 text-xs rounded flex items-center ${j===e?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e,(0,r.jsxs)("span",{className:"ml-1 text-xs",children:["(",t,")"]})]},e))]})]}),("all"!==j||"date"!==y)&&(0,r.jsxs)("button",{onClick:()=>{b("date"),v("all"),k("date","all")},className:"text-sm text-red-600 hover:text-red-800 flex items-center",children:[r.jsx(d.Z,{size:16,className:"mr-1"}),"清除筛选"]})]})}),p?r.jsx(g,{count:6}):P.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["共 ",t.length," 个收藏，当前显示 ",P.length," 个"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(e=>r.jsx(x.Z,{recipe:e,showFavoriteButton:!0},e.id))})]}):t.length>0?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"没有找到符合条件的收藏菜谱"}),r.jsx("button",{onClick:()=>{v("all"),b("date"),k("date","all")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"显示全部收藏"})]}):(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("h2",{className:"text-xl font-semibold mb-3",children:"暂无收藏的菜谱"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"您可以浏览菜谱并添加到收藏夹"}),(0,r.jsxs)("div",{className:"flex justify-center gap-4",children:[r.jsx(o.default,{href:"/recipes",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"浏览全部菜谱"}),r.jsx(o.default,{href:"/",className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"返回首页"})]})]})]})}),r.jsx(h.default,{})]})}},4550:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(4714);s(7580);let a=()=>r.jsx("footer",{className:"bg-white py-6 border-t border-gray-100",children:r.jsx("div",{className:"container mx-auto px-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"本网站菜谱内容来源于网络，仅供参考。请根据自身情况判断使用，本站不对由此产生的后果负责。"}),(0,r.jsxs)("p",{className:"text-gray-400 text-xs mt-2",children:["\xa9 ",new Date().getFullYear()," 今天吃什么 - 版权所有"]})]})})})},2582:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(4714),a=s(7580),l=s.n(a),i=s(9872),n=s(7540);let c=(0,s(6834).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var d=s(3641);let o=({recipe:e,className:t="",showMatchScore:s=!1,showFavoriteButton:a=!0})=>{let[o,x]=l().useState(!1);l().useEffect(()=>{x((0,d.Dq)(e.id))},[e.id]);let m=e.name||e.菜名||"未命名菜谱",u=e.cuisine||e.菜系,h=e.difficulty||e.烹饪难度,g=e.cookingTime||e.烹饪时间;return r.jsx(i.default,{href:`/recipe/${e.id}`,className:`block ${t}`,children:(0,r.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-all duration-300 hover:shadow-md h-full p-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"flex-grow pr-2",children:[r.jsx("div",{className:"mb-1.5 flex items-start",children:(0,r.jsxs)("h3",{className:"font-medium text-gray-900 leading-tight flex items-center",children:[m,o&&r.jsx("span",{className:"ml-2 text-xs bg-red-100 text-red-600 px-1.5 py-0.5 rounded",children:"收藏"})]})}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mb-1.5",children:[g&&(0,r.jsxs)("span",{className:"flex items-center mr-3",children:[r.jsx(n.Z,{size:12,className:"mr-1"}),"string"==typeof g?g:(e=>{if(!e)return"未知";if(e<60)return`${e}分钟`;let t=e%60;return`${Math.floor(e/60)}小时${t>0?` ${t}分钟`:""}`})(g)]}),u&&r.jsx("span",{children:u}),h&&r.jsx("span",{className:"ml-2 text-xs bg-gray-100 text-gray-700 px-1.5 py-0.5 rounded",children:h})]})]}),s&&void 0!==e.matchScore&&r.jsx("div",{className:"flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-xs text-blue-800 font-medium whitespace-nowrap",children:["匹配",Math.round(e.matchScore<1?100*e.matchScore:e.matchScore),"%"]})})]}),s&&(e.matchedIngredients?.length||e.matchedSeasonings?.length)?(0,r.jsxs)("div",{className:"mt-1.5",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"匹配食材/调料:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-0.5 text-xs text-gray-800",children:[e.matchedIngredients?.slice(0,3).map((t,s)=>r.jsxs("span",{children:[t,s<Math.min(e.matchedIngredients?.length||0,3)-1?", ":""]},s)),e.matchedSeasonings?.slice(0,2).map((t,s)=>r.jsxs("span",{children:[0===s&&e.matchedIngredients?.length?", ":"",t,s<Math.min(e.matchedSeasonings?.length||0,2)-1?", ":""]},`s-${s}`)),(e.matchedIngredients?.length||0)+(e.matchedSeasonings?.length||0)>5&&r.jsx("span",{className:"text-gray-500",children:"等"})]})]}):e.ingredients&&Array.isArray(e.ingredients)?(0,r.jsxs)("div",{className:"mt-1.5",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"主要食材:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-0.5 text-xs text-gray-800",children:[e.ingredients.slice(0,4).map((t,s)=>(0,r.jsxs)("span",{children:["string"==typeof t?t:t.name||t.名称||"",s<Math.min(e.ingredients.length,4)-1?", ":""]},s)),e.ingredients.length>4&&r.jsx("span",{className:"text-gray-500",children:"等"})]})]}):(0,r.jsxs)("div",{className:"mt-1.5",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"饮食属性:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-0.5 text-xs text-gray-800",children:[e.isHalal&&r.jsx("span",{children:"清真"}),e.isVegan&&(0,r.jsxs)("span",{children:[e.isHalal?", ":"","纯素"]}),e.isGlutenFree&&(0,r.jsxs)("span",{children:[e.isHalal||e.isVegan?", ":"","无麸质"]}),!e.isHalal&&!e.isVegan&&!e.isGlutenFree&&r.jsx("span",{className:"text-gray-500",children:"标准餐食"})]})]}),r.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium flex justify-end",children:(0,r.jsxs)("span",{className:"flex items-center",children:["详情 ",r.jsx(c,{size:14})]})})]})})}},3081:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,dynamic:()=>d,metadata:()=>c});var r=s(657);let a=(0,s(1481).createProxy)(String.raw`D:\test\Cursor\What_to_eat_Web\src\app\favorites\favorites-client.tsx`),{__esModule:l,$$typeof:i}=a,n=a.default,c={title:"我的收藏 - 今天吃什么",description:"收藏您喜欢的菜谱"},d="force-static";function o(){return r.jsx(n,{})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[499,843,384,242,30,641],()=>s(9289));module.exports=r})();