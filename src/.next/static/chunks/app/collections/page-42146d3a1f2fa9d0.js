(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{2840:function(e,s,l){Promise.resolve().then(l.bind(l,3089))},3089:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return d}});var a=l(984),t=l(208),i=l(346),r=l(8088),c=l(8438);function d(){let[e,s]=(0,t.useState)([]),[l,d]=(0,t.useState)(!0);(0,t.useEffect)(()=>{try{let e=JSON.parse(localStorage.getItem("savedRecipes")||"[]");if(0===e.length){d(!1);return}let l=JSON.parse(localStorage.getItem("savedRecipesData")||"[]");s(l),d(!1)}catch(e){console.error("加载收藏菜谱失败:",e),d(!1)}},[]);let n=l=>{let a=JSON.parse(localStorage.getItem("savedRecipes")||"[]").filter(e=>e!==l);localStorage.setItem("savedRecipes",JSON.stringify(a));let t=[...e].filter(e=>e.id!==l);s(t),localStorage.setItem("savedRecipesData",JSON.stringify(t))};return(0,a.jsxs)("main",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("nav",{className:"bg-white shadow-sm py-4",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[(0,a.jsx)(i.default,{href:"/",className:"text-xl font-bold text-blue-600",children:"Recipe Finder"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)(i.default,{href:"/",className:"text-black hover:text-blue-600",children:"Home"}),(0,a.jsx)(i.default,{href:"/recipes",className:"text-black hover:text-blue-600",children:"Browse"}),(0,a.jsx)(i.default,{href:"/collections",className:"text-black hover:text-blue-600 font-medium",children:"Collections"})]})]})}),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"我的收藏"}),l?(0,a.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,a.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,a.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})})}):e.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden relative",children:[(0,a.jsx)("button",{onClick:()=>n(e.id),className:"absolute top-2 right-2 z-10 p-1 bg-white rounded-full shadow-sm hover:bg-gray-100","aria-label":"Remove from saved",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,a.jsxs)(i.default,{href:"/recipe/".concat(e.id),children:[(0,a.jsx)("div",{className:"relative h-48 w-full",children:(0,a.jsx)(r.default,{src:e.imageUrl||"/images/placeholder-food.jpg",alt:e.name,fill:!0,className:"object-cover",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-medium text-lg text-gray-900 mb-1",children:e.name}),(0,a.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:e.description||"暂无描述"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:(0,c.rm)(e.tags,0,3).map(e=>(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded",children:e},e))})]})]})]},e.id))}):(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"还没有收藏菜谱"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"浏览菜谱并点击收藏按钮，这里会显示您保存的所有菜谱"}),(0,a.jsx)(i.default,{href:"/recipes",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"浏览菜谱"})]})]})]})}}},function(e){e.O(0,[346,410,88,342,438,115,69,744],function(){return e(e.s=2840)}),_N_E=e.O()}]);