(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{1148:function(e,t,s){Promise.resolve().then(s.bind(s,2894))},998:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(208);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:d="",children:o,iconNode:x,...h}=e;return(0,a.createElement)("svg",{ref:t,...c,width:r,height:r,stroke:s,strokeWidth:n?24*Number(l)/Number(r):l,className:i("lucide",d),...h},[...x.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),o=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{className:c,...o}=s;return(0,a.createElement)(d,{ref:l,iconNode:t,className:i("lucide-".concat(r(n(e))),"lucide-".concat(e),c),...o})});return s.displayName=n(e),s}},979:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(998).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2137:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(998).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},5050:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(998).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},5747:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(998).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6665:function(e,t,s){"use strict";var a=s(319);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},2894:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(984),r=s(208),l=s(6665),n=s(5050);let i=(0,s(998).Z)("arrow-down-a-z",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]);var c=s(2137),d=s(5747),o=s(346),x=s(7781),h=s(8438),m=s(1111),u=s(4030);function g(e){let{count:t=6}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:t}).map((e,t)=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-3"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full mb-1"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6 mb-4"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,a.jsx)("div",{className:"h-5 bg-gray-200 rounded-full w-16"}),(0,a.jsx)("div",{className:"h-5 bg-gray-200 rounded-full w-14"}),(0,a.jsx)("div",{className:"h-5 bg-gray-200 rounded-full w-20"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"})]})]},t))})}function f(){(0,l.useRouter)();let e=(0,l.useSearchParams)(),[t,s]=(0,r.useState)([]),[f,p]=(0,r.useState)(!0),[y,j]=(0,r.useState)("date"),[v,b]=(0,r.useState)("all"),[N,w]=(0,r.useState)(new Map);(0,r.useEffect)(()=>{if(e){let t=e.get("sort");t&&["name","date","difficulty"].includes(t)&&j(t);let s=e.get("category");s&&b(s)}},[e]),(0,r.useEffect)(()=>{let e=()=>{p(!0);try{{let e=(0,h.lZ)();s(e);let t=new Map;t.set("all",e.length),e.forEach(e=>{if(e.cookingMethod&&(0,h.if)(e.cookingMethod).forEach(e=>{let s=t.get(e)||0;t.set(e,s+1)}),e.cuisine){let s=t.get(e.cuisine)||0;t.set(e.cuisine,s+1)}}),w(t)}}catch(e){console.error("加载收藏菜谱失败:",e)}finally{p(!1)}};e();let t=t=>{"favorites"===t.key&&e()};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[]);let k=(e,t)=>{let s=new URLSearchParams;"date"!==e&&s.set("sort",e),"all"!==t&&s.set("category",t);let a=window.location.pathname+(s.toString()?"?".concat(s.toString()):"");window.history.pushState({},"",a)},S=e=>{j(e),k(e,v)},C=e=>{b(e),k(y,e)},M=(0,r.useMemo)(()=>{let e=[...t];return"all"!==v&&(e=t.filter(e=>{let t=e.cookingMethod&&(0,h.if)(e.cookingMethod).includes(v),s=e.cuisine===v;return t||s})),e.sort((e,t)=>{if("name"===y)return(e.name||"").localeCompare(t.name||"");if("difficulty"!==y)return 0;{let s={简单:1,中等:2,困难:3};return(s[e.difficulty||""]||0)-(s[t.difficulty||""]||0)}})},[t,y,v]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.default,{}),(0,a.jsx)("main",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center text-sm text-gray-500",children:[(0,a.jsxs)(o.default,{href:"/",className:"hover:text-blue-600 flex items-center",children:[(0,a.jsx)(n.Z,{size:14,className:"mr-1"}),"首页"]}),(0,a.jsx)("span",{className:"mx-2",children:"/"}),(0,a.jsx)("span",{className:"text-gray-700",children:"我的收藏"})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"我的收藏"}),!f&&t.length>0&&(0,a.jsx)("div",{className:"bg-white rounded-lg shadow mb-6 p-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,a.jsxs)("div",{className:"flex items-center mr-4",children:[(0,a.jsx)(i,{size:18,className:"mr-2 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700 mr-2",children:"排序："}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("button",{onClick:()=>S("date"),className:"px-2 py-1 text-xs rounded ".concat("date"===y?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"收藏时间"}),(0,a.jsx)("button",{onClick:()=>S("name"),className:"px-2 py-1 text-xs rounded ".concat("name"===y?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"名称"}),(0,a.jsx)("button",{onClick:()=>S("difficulty"),className:"px-2 py-1 text-xs rounded ".concat("difficulty"===y?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"难度"})]})]}),N.size>1&&(0,a.jsxs)("div",{className:"flex items-center flex-grow",children:[(0,a.jsx)(c.Z,{size:18,className:"mr-2 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700 mr-2",children:"分类："}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)("button",{onClick:()=>C("all"),className:"px-2 py-1 text-xs rounded flex items-center ".concat("all"===v?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["全部",(0,a.jsxs)("span",{className:"ml-1 text-xs",children:["(",N.get("all")||0,")"]})]}),Array.from(N.entries()).filter(e=>{let[t]=e;return"all"!==t}).sort((e,t)=>t[1]-e[1]).slice(0,5).map(e=>{let[t,s]=e;return(0,a.jsxs)("button",{onClick:()=>C(t),className:"px-2 py-1 text-xs rounded flex items-center ".concat(v===t?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[t,(0,a.jsxs)("span",{className:"ml-1 text-xs",children:["(",s,")"]})]},t)})]})]}),("all"!==v||"date"!==y)&&(0,a.jsxs)("button",{onClick:()=>{j("date"),b("all"),k("date","all")},className:"text-sm text-red-600 hover:text-red-800 flex items-center",children:[(0,a.jsx)(d.Z,{size:16,className:"mr-1"}),"清除筛选"]})]})}),f?(0,a.jsx)(g,{count:6}):M.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["共 ",t.length," 个收藏，当前显示 ",M.length," 个"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(e=>(0,a.jsx)(x.Z,{recipe:e,showFavoriteButton:!0},e.id))})]}):t.length>0?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"没有找到符合条件的收藏菜谱"}),(0,a.jsx)("button",{onClick:()=>{b("all"),j("date"),k("date","all")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"显示全部收藏"})]}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"暂无收藏的菜谱"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"您可以浏览菜谱并添加到收藏夹"}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsx)(o.default,{href:"/recipes",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"浏览全部菜谱"}),(0,a.jsx)(o.default,{href:"/",className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"返回首页"})]})]})]})}),(0,a.jsx)(u.default,{})]})}},4030:function(e,t,s){"use strict";s.r(t);var a=s(984);s(208),t.default=()=>(0,a.jsx)("footer",{className:"bg-white py-6 border-t border-gray-100",children:(0,a.jsx)("div",{className:"container mx-auto px-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"本网站菜谱内容来源于网络，仅供参考。请根据自身情况判断使用，本站不对由此产生的后果负责。"}),(0,a.jsxs)("p",{className:"text-gray-400 text-xs mt-2",children:["\xa9 ",new Date().getFullYear()," 今天吃什么 - 版权所有"]})]})})})},1111:function(e,t,s){"use strict";s.r(t);var a=s(984),r=s(208),l=s(346),n=s(1409);t.default=e=>{let{className:t=""}=e,[s,i]=(0,r.useState)(!1),c=e=>{(0,n.Vc)({type:"other",label:"导航到".concat(e),value:e})};return(0,a.jsxs)("nav",{className:"fixed top-0 left-0 right-0 bg-white z-10 shadow-sm ".concat(t),children:[(0,a.jsx)("div",{className:"container-max",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(l.default,{href:"/",className:"text-[22px] font-bold text-blue-600",onClick:()=>c("首页"),children:"今天吃什么？"})}),(0,a.jsx)("div",{className:"flex items-center sm:hidden",children:(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-700","aria-expanded":"false",onClick:()=>{i(!s)},children:[(0,a.jsx)("span",{className:"sr-only",children:"打开主菜单"}),s?(0,a.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):(0,a.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})}),(0,a.jsxs)("div",{className:"hidden sm:flex sm:items-center sm:space-x-8",children:[(0,a.jsx)(l.default,{href:"/",className:"text-[17px] text-gray-700 hover:text-gray-900",onClick:()=>c("首页"),children:"首页"}),(0,a.jsx)(l.default,{href:"/recipes",className:"text-[17px] text-gray-700 hover:text-gray-900",onClick:()=>c("菜谱"),children:"菜谱"}),(0,a.jsx)(l.default,{href:"/contact",className:"text-[17px] text-gray-700 hover:text-gray-900",onClick:()=>c("关于我们"),children:"关于我们"})]})]})}),(0,a.jsx)("div",{className:"sm:hidden ".concat(s?"block":"hidden"),children:(0,a.jsxs)("div",{className:"pt-2 pb-3 space-y-1 border-t border-gray-100",children:[(0,a.jsx)(l.default,{href:"/",className:"block px-5 py-3 text-[16px] text-gray-700 hover:bg-gray-50",onClick:()=>{c("首页"),i(!1)},children:"首页"}),(0,a.jsx)(l.default,{href:"/recipes",className:"block px-5 py-3 text-[16px] text-gray-700 hover:bg-gray-50",onClick:()=>{c("菜谱"),i(!1)},children:"菜谱"}),(0,a.jsx)(l.default,{href:"/contact",className:"block px-5 py-3 text-[16px] text-gray-700 hover:bg-gray-50",onClick:()=>{c("关于我们"),i(!1)},children:"关于我们"})]})})]})}},7781:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var a=s(984),r=s(208),l=s(346),n=s(979);let i=(0,s(998).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var c=s(8438),d=e=>{var t,s,d,o,x,h;let{recipe:m,className:u="",showMatchScore:g=!1,showFavoriteButton:f=!0}=e,[p,y]=r.useState(!1);r.useEffect(()=>{y((0,c.Dq)(m.id))},[m.id]);let j=m.name||m.菜名||"未命名菜谱",v=m.cuisine||m.菜系,b=m.difficulty||m.烹饪难度,N=m.cookingTime||m.烹饪时间;return(0,a.jsx)(l.default,{href:"/recipe/".concat(m.id),className:"block ".concat(u),children:(0,a.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200 hover:border-blue-300 transition-all duration-300 hover:shadow-md h-full p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex-grow pr-2",children:[(0,a.jsx)("div",{className:"mb-1.5 flex items-start",children:(0,a.jsxs)("h3",{className:"font-medium text-gray-900 leading-tight flex items-center",children:[j,p&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-red-100 text-red-600 px-1.5 py-0.5 rounded",children:"收藏"})]})}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mb-1.5",children:[N&&(0,a.jsxs)("span",{className:"flex items-center mr-3",children:[(0,a.jsx)(n.Z,{size:12,className:"mr-1"}),"string"==typeof N?N:(e=>{if(!e)return"未知";if(e<60)return"".concat(e,"分钟");let t=e%60;return"".concat(Math.floor(e/60),"小时").concat(t>0?" ".concat(t,"分钟"):"")})(N)]}),v&&(0,a.jsx)("span",{children:v}),b&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-gray-100 text-gray-700 px-1.5 py-0.5 rounded",children:b})]})]}),g&&void 0!==m.matchScore&&(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsxs)("span",{className:"text-xs text-blue-800 font-medium whitespace-nowrap",children:["匹配",Math.round(m.matchScore<1?100*m.matchScore:m.matchScore),"%"]})})]}),g&&((null===(t=m.matchedIngredients)||void 0===t?void 0:t.length)||(null===(s=m.matchedSeasonings)||void 0===s?void 0:s.length))?(0,a.jsxs)("div",{className:"mt-1.5",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-0.5",children:"匹配食材/调料:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-0.5 text-xs text-gray-800",children:[null===(d=m.matchedIngredients)||void 0===d?void 0:d.slice(0,3).map((e,t)=>{var s;return(0,a.jsxs)("span",{children:[e,t<Math.min((null===(s=m.matchedIngredients)||void 0===s?void 0:s.length)||0,3)-1?", ":""]},t)}),null===(o=m.matchedSeasonings)||void 0===o?void 0:o.slice(0,2).map((e,t)=>{var s,r;return(0,a.jsxs)("span",{children:[0===t&&(null===(s=m.matchedIngredients)||void 0===s?void 0:s.length)?", ":"",e,t<Math.min((null===(r=m.matchedSeasonings)||void 0===r?void 0:r.length)||0,2)-1?", ":""]},"s-".concat(t))}),((null===(x=m.matchedIngredients)||void 0===x?void 0:x.length)||0)+((null===(h=m.matchedSeasonings)||void 0===h?void 0:h.length)||0)>5&&(0,a.jsx)("span",{className:"text-gray-500",children:"等"})]})]}):m.ingredients&&Array.isArray(m.ingredients)?(0,a.jsxs)("div",{className:"mt-1.5",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-0.5",children:"主要食材:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-0.5 text-xs text-gray-800",children:[m.ingredients.slice(0,4).map((e,t)=>(0,a.jsxs)("span",{children:["string"==typeof e?e:e.name||e.名称||"",t<Math.min(m.ingredients.length,4)-1?", ":""]},t)),m.ingredients.length>4&&(0,a.jsx)("span",{className:"text-gray-500",children:"等"})]})]}):(0,a.jsxs)("div",{className:"mt-1.5",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-0.5",children:"饮食属性:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-0.5 text-xs text-gray-800",children:[m.isHalal&&(0,a.jsx)("span",{children:"清真"}),m.isVegan&&(0,a.jsxs)("span",{children:[m.isHalal?", ":"","纯素"]}),m.isGlutenFree&&(0,a.jsxs)("span",{children:[m.isHalal||m.isVegan?", ":"","无麸质"]}),!m.isHalal&&!m.isVegan&&!m.isGlutenFree&&(0,a.jsx)("span",{className:"text-gray-500",children:"标准餐食"})]})]}),(0,a.jsx)("div",{className:"mt-2 text-xs text-blue-600 font-medium flex justify-end",children:(0,a.jsxs)("span",{className:"flex items-center",children:["详情 ",(0,a.jsx)(i,{size:14})]})})]})})}},1409:function(e,t,s){"use strict";function a(e){let t={...e,timestamp:Date.now()};console.log("User Action:",t);let s=JSON.parse(localStorage.getItem("user_actions")||"[]");s.push(t),localStorage.setItem("user_actions",JSON.stringify(s))}s.d(t,{Vc:function(){return a}})}},function(e){e.O(0,[346,410,342,438,115,69,744],function(){return e(e.s=1148)}),_N_E=e.O()}]);