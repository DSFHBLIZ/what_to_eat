(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{3206:function(e,r,t){Promise.resolve().then(t.bind(t,4631))},4631:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var n=t(984),a=t(208),s=t(346),o=t(5467);let c=e=>{(0,o.iB)("测试数组错误页面","开始测试: ".concat(e),{errorType:e});try{switch(e){case"undefined-array":let r=(void 0)[0];return"获取了第一个元素: ".concat(r);case"null-array":let t=null.length;return"获取了数组长度: ".concat(t);case"missing-property":let n={name:"宫保鸡丁"}.ingredients[0].name;return"第一个食材: ".concat(n);case"array-method":let a="这不是数组".map(e=>e);return"映射结果: ".concat(a);case"out-of-bounds":let s=[1,2,3][9];return"第十个元素: ".concat(s);case"nested-array":let o=null[1];return"嵌套元素: ".concat(o);case"array-reduce":let c=[].reduce((e,r)=>e+r);return"总和: ".concat(c);case"array-type":return"数值: ".concat(2*"a");case"promise-array":let l=[Promise.resolve(1),Promise.resolve(2),"not-a-promise"];throw Promise.all(l).then(e=>{console.log(e)}),Error("异步数组类型错误");case"complex-case":let d=[{id:"1",name:"红烧肉",ingredients:[{name:"猪肉",amount:"500g"}],steps:["准备食材","开始烹饪"]},{id:"2",name:"糖醋里脊",ingredients:null},{id:"3",name:"鱼香肉丝"},null].flatMap(e=>e?e.ingredients.map(e=>e.name):[]);return"所有食材: ".concat(d.join(", "));default:return"请选择一个错误类型进行测试"}}catch(r){return(0,o.H)("测试数组错误页面","测试错误: ".concat(e),r,{errorType:e,timestamp:new Date().toISOString()}),"捕获到错误: ".concat(r.message)}};function l(){let[e,r]=(0,a.useState)("点击按钮测试不同类型的数组错误"),[t,o]=(0,a.useState)(""),l=e=>{o(e),r(c(e))};return(0,n.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"数组错误测试"}),(0,n.jsx)("p",{className:"text-gray-600",children:"此页面用于测试各种可能发生的数组相关错误并记录它们"})]}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(s.default,{href:"/debug",className:"px-4 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"返回调试面板"})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"选择错误类型"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("button",{onClick:()=>l("undefined-array"),className:"w-full px-4 py-2 rounded text-left ".concat("undefined-array"===t?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"未定义数组访问"}),(0,n.jsx)("button",{onClick:()=>l("null-array"),className:"w-full px-4 py-2 rounded text-left ".concat("null-array"===t?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"Null数组属性"}),(0,n.jsx)("button",{onClick:()=>l("missing-property"),className:"w-full px-4 py-2 rounded text-left ".concat("missing-property"===t?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"缺失属性访问"}),(0,n.jsx)("button",{onClick:()=>l("array-method"),className:"w-full px-4 py-2 rounded text-left ".concat("array-method"===t?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"非数组调用数组方法"}),(0,n.jsx)("button",{onClick:()=>l("out-of-bounds"),className:"w-full px-4 py-2 rounded text-left ".concat("out-of-bounds"===t?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"数组越界"})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"更复杂的错误类型"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("button",{onClick:()=>l("nested-array"),className:"w-full px-4 py-2 rounded text-left ".concat("nested-array"===t?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"嵌套数组错误"}),(0,n.jsx)("button",{onClick:()=>l("array-reduce"),className:"w-full px-4 py-2 rounded text-left ".concat("array-reduce"===t?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"Reduce方法错误"}),(0,n.jsx)("button",{onClick:()=>l("array-type"),className:"w-full px-4 py-2 rounded text-left ".concat("array-type"===t?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"数组类型不匹配"}),(0,n.jsx)("button",{onClick:()=>l("promise-array"),className:"w-full px-4 py-2 rounded text-left ".concat("promise-array"===t?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"Promise数组错误"}),(0,n.jsx)("button",{onClick:()=>l("complex-case"),className:"w-full px-4 py-2 rounded text-left ".concat("complex-case"===t?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"复杂场景模拟"})]})]})]}),(0,n.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"测试结果"}),(0,n.jsx)("div",{className:"p-4 rounded ".concat(e.includes("错误")?"bg-red-50 border border-red-200 text-red-800":"bg-green-50 border border-green-200 text-green-800"),children:e})]}),(0,n.jsxs)("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"如何使用这个工具"}),(0,n.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-yellow-800",children:[(0,n.jsx)("li",{children:"点击任意错误类型按钮触发特定的错误场景"}),(0,n.jsx)("li",{children:"触发的错误会被记录到错误日志系统中"}),(0,n.jsxs)("li",{children:["您可以在",(0,n.jsx)(s.default,{href:"/debug",className:"underline",children:"调试面板"}),"中查看完整的错误细节"]}),(0,n.jsx)("li",{children:"这有助于识别和修复菜谱应用中的类似错误"})]})]})]})}},5467:function(e,r,t){"use strict";t.d(r,{H:function(){return o},KE:function(){return c},NB:function(){return u},PN:function(){return l},T1:function(){return i},eX:function(){return b},iB:function(){return d},mt:function(){return g}});let n=[],a=[],s=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),o=(e,r,t,a)=>{let o="string"==typeof t?t:t.message,c="string"==typeof t?void 0:t.stack,l="string"==typeof t?"CustomError":t.name,d={id:s(),timestamp:new Date().toISOString(),type:l,message:o,component:e,operation:r,severity:"error",details:a,stack:c};return n.unshift(d),n.length>50&&(n=n.slice(0,50)),console.error("[".concat(e,"][").concat(r,"] ").concat(o),a||""),d.id},c=(e,r,t,a)=>{let o={id:s(),timestamp:new Date().toISOString(),type:"Warning",message:t,component:e,operation:r,severity:"warning",details:a};return n.unshift(o),n.length>50&&(n=n.slice(0,50)),console.warn("[".concat(e,"][").concat(r,"] ").concat(t),a||""),o.id},l=(e,r,t,a)=>{let o={id:s(),timestamp:new Date().toISOString(),type:"Info",message:t,component:e,operation:r,severity:"info",details:a};return n.unshift(o),n.length>50&&(n=n.slice(0,50)),console.info("[".concat(e,"][").concat(r,"] ").concat(t),a||""),o.id},d=(e,r,t)=>{let n={id:s(),timestamp:new Date().toISOString(),lastComponent:e,lastAction:r,lastData:t};return a.unshift(n),a.length>20&&(a=a.slice(0,20)),n.id},i=()=>[...n],u=()=>[...a],g=()=>{n=[]},b=()=>{a=[]}}},function(e){e.O(0,[346,115,69,744],function(){return e(e.s=3206)}),_N_E=e.O()}]);